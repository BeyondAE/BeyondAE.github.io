---
title : starting swift1
description : officework365 1회차
date : 2017-10-17
categories :
- swift
tags :
- swift
---

> 강사: 강정민
email : zermin@tokgue.com

>책 추천,

#왜 사용하나?
- object-c와 초기엔 상당히 흡사했다.
- 최근엔 다른 언어와 상당히 흡사해졌다.
- 3~4버전은 거의 변화가 없더라.

##개략정보
- 꼭 맥이 아니라 여러 플랫폼에서도 사용이 가능하다.
- 애플에서 무료로 공개한 상태이다.
- 코틀린이 swift와 상당히 비슷하다.

##app개발 구성
- 초기엔 standalone 형식의 app이 많았다.
- 요즘엔 백단 구성도 중요.
  - Realm, parse, firebase, icloudkit
  - icloudkit : app db가 아닌 외부 db로 접근 가능하게,
    - 멀티device, data 동기화
    - private db, public db 등이 나뉜다.
  - Realm : app db를 이걸로?
  - Parse :
- 미들웨어 등의 활용 스킬이 중요하다.

#기본적인 프로그래밍 개념

##HW

###CPU
- ap(모바일CPU)
- cash
###memory

##프로세스와 스레드
모바일에서도 프로세스/스레드의 개념이 중요하다.
###쓰레드
- 큐를 제공한다
  - 시리얼 큐
    - 큐에 작업들이 들어간다.
    - 큐의 작업이 순차적으로 처리가 된다.
  - 컨커런트 큐
    - 스레드풀에 사용된다.
    - 스레드 풀의 스레드들이 큐에 접근한다.
- UI 갱신은 mainthread만 처리
  - 시리얼 큐를 사용한다.
###언어적 측면
cpp대비 뭔가 답답하다.
1. 참조
클래스, 함수만 참조이다. 외에는 전부 복사
2. 제네릭
3. 생성/소멸
깔끔하지 않다. 언어스펙의 지정된 방식으로 사용한다. 소멸은 알아서 해줌.
3. 컨테이너
무조건 복사하는 방식이다.
###APP구조
- Document, temp 영역 등이 별도로 있다.
- user default로 app정보 등의 영역을 확보해 정보를 관리할 수도 있다.
- query등을 사용한다면 app db를 사용한다.
  - 기본적으로 Coredb?를 제공한다.

###RealM
DB관리 서버

##Core data
core data에서 제공하는 thread가 따로 있다.
fetch 등의 명령으로 concurrent queue에 접근등을 한다.
- 내부적으로 wall, shm 파일 등이 있다.
  - 중간점인데, wall등의 파일을 사용하다가 끝에 실 db에 통합하곤 한다.

###today widget
기본 app과 구조가 다르다.
애플에서 Group이란 걸 제공해 Core Data에 접근할 수 있게 한다.

###마이그레이션
app db의 컬럼이 추가됐다. 라는 경우에 사용하라고 옵션 등을 제공함
- 자동/수동 마이그레이션이 있다.
- 수동 마이그레이션을 많이 사용한다.


#개발준비
##암/복호화
- PKI
1. 공개키
- 공개적으로 사용할 수 있는 나에 대한 증명
2. 개인키
- 공개키와 페어되는 키
3. 예시
- 스트링을 암호화한다.
- 대칭키 : 암호화/복호화 키가 같다.
- 위는 공개키로 암호화, 개인키로 복호화를 한다.
- 분할돼서 안정성이 좋지만 속도가 좋다.
4. SSL, TLS에서 사용됨
- data를 대칭키로 암호화, 대칭키를 공개키로 또 암호화
  - 개인치고 대칭키를 복호화, data를 대칭키로 복호화 한다.

##인증키
누가 만든 것인지 알기 위한 것이댜.
- 인증서(공개키)
- 개인키 : 앱에 사인하기 위해 사용함.
- 프로비저닝 : 배포담당, 이것이 있어야 스토어 등록이 됨. 신뢰되야 설치가 가능함.
  - 인증서가 있어야 만들 수 있다.

##앱올리기
개인 계정, 법인 계정이 나눠져 있다.
###리뷰받기
- 앱 올리고 허가받는 것
- 리뷰가 늦다.
- 바이너리 리젝이면 바이버리 다시 올려야 한다.
- 메타데이터 리젝, 실제 앱을 설명하기 위한 정보에 대한 리젝, 스크린샷 등이 부족한가? 등
- 긴급리뷰,

##개발방법론
###스크럼
특정기간의 텀을 가지고 진행

#라이브러리
##공개 라이브러리
##관리
1. cocopods
- 공개 라이브러리를 버전까지 관리해줌
- podfile에 내가 사용하고자 하는 파일을 추가
  - install하면 설치, update하면 올려줌

##키 체인
보안 영역, 실제 앱의 PW 등을 이곳에 저장함. 애플에서 제공함.
- oauth2.0의 refresh token 등은 중요한데 그냥 document영역이 아니라 키 체인에 넣어 안전하고 빠르게 쓸 수 있다.
- 키 체인 공간에 각 앱들의 공간이 있다.

#운영
##oauth2.0
대부분 이걸로 활용한다.
1. 과정
- 처음 로그인,
- access, refresh 토큰을 서버에서 발급해준다.
  - access : 6시간 등 만드는 데서 결정, 근데 대부분 짧게
    - 노출돼도 짧아서 거의 상관 없다.
  - refresh : 길다, 몇 달 단위
- 만료되면 refresh 토큰으로 갱신한다.
- 둘 다 만료되면 다시 pw입력.

2. 구조
관리되는 구성 도구들을 묶어 패키지로 제공한다.

##AWS
###elb
- 로드 벨런서, 이게 알아서 다 분할
- 여기에 인증서를 설치함(무료 SSL)
###ec2
- 서버 장비에 해당함
###ebs
- db, 파티션디스크
###s3
- 비정형데이터 저장용
- 벌크로 다 담을 수 있다.
- app에서 직접쏘고, 허락된 app만 받을 수 있다.
